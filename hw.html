<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button id="calculateTotal">購物車總額</button>
    <button id="clearCart">清空購物車</button>
    <div id="totalDisplay"></div>

    <div class="product">
        <img src="S00008021-01.jpg">
        <p>$100</p>
        <button class="addToCart" data-price="100">加入購物車</button>
    </div>

    <div class="product">
        <img src="w644.jfif">
        <p>$120</p>
        <button class="addToCart" data-price="120">加入購物車</button>
    </div>

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];

        const addToCartButtons = document.querySelectorAll('.addToCart');
        const calculateTotalButton = document.getElementById('calculateTotal');
        const clearCartButton = document.getElementById('clearCart');
        const totalDisplay = document.getElementById('totalDisplay');

        addToCartButtons.forEach(button => {
            button.addEventListener('click', () => {
                const price = parseInt(button.getAttribute('data-price'));
                cart.push(price);
                localStorage.setItem('cart', JSON.stringify(cart));
                alert(`已添加商品 ($${price}) 到購物車`);
            });
        });

        calculateTotalButton.addEventListener('click', () => {
            const total = cart.reduce((sum, price) => sum + price, 0);

            console.log(`購物車總額: $${total}`);

            totalDisplay.innerHTML = `<h3>購物車總額: $${total}</h3>`;

            localStorage.setItem('cartTotal', total.toString());
        });

        clearCartButton.addEventListener('click', () => {
            cart = [];
            localStorage.removeItem('cart');
            localStorage.removeItem('cartTotal');
            totalDisplay.innerHTML = '<h3>購物車已清空</h3>';
            console.log('購物車已清空');
        });
    </script>
</body>

</html>